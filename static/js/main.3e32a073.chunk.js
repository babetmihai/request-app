(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{123:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",spin:"constants_spin__12EQ_"}},124:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",sidebar:"Sidebar_sidebar__3ctX_",fab:"Sidebar_fab__1hBck",spin:"Sidebar_spin__1Ng0J"}},126:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",approve:"Approvals_approve__1QpfK",spin:"Approvals_spin__1zRGd"}},127:function(e,t,a){e.exports={requestForm:"RequestForm_requestForm__30C5q",addButton:"RequestForm_addButton__Ao1Xq",date:"RequestForm_date__25z6f"}},156:function(e,t,a){"use strict";a.d(t,"b",function(){return h}),a.d(t,"a",function(){return b});var n=a(48),r=a(210),s=a.n(r),c=a(82),l=a.n(c),o=a(211),i=a.n(o),u=a(110),m=a.n(u),d=a(16),f=a.n(d),p=a(157),v=a.n(p),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.method,r=t.type,c=void 0===r?"":r,o=t.payload;switch(a){case"@SET":return v()(o)?l()(c,e):s()(Object,c,o,e);case"@UPDATE":return v()(o)?e:i()(Object,c,function(e){return m()(e)&&m()(o)?Object(n.a)({},e,o):o},e);case"@DELETE":return l()(c,e);default:return e}},E=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(".")},_=function(e){if(0===e.length)throw new Error("invalid.arguments");return 1===e.length?{payload:e[0]}:{type:e[0],payload:e[1]}},b=function(e){var t=e.store,a=e.moduleName;return{select:function(e){return e(t.getState())},get:function(e,n){return e?f()(t.getState(),E(a,e),n):f()(t.getState(),a,{})},set:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Promise(function(e,r){var s=_(n),c=s.type,l=s.payload;setTimeout(function(){try{t.dispatch({type:E(a,c),payload:l,method:"@SET"}),e(l)}catch(n){r(n)}})})},update:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Promise(function(e,r){var s=_(n),c=s.type,l=s.payload;setTimeout(function(){try{t.dispatch({type:E(a,c),payload:l,method:"@UPDATE"}),e(l)}catch(n){r(n)}})})},delete:function(e){return new Promise(function(n,r){setTimeout(function(){try{t.dispatch({type:E(a,e),method:"@DELETE"}),n()}catch(s){r(s)}})})}}}},160:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",page:"Page_page__-tLJL",loading:"Page_loading__4Vhpr",spin:"Page_spin__31wBc"}},161:function(e,t,a){},162:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",underlay:"Modal_underlay__3mNg0",modal:"Modal_modal__3Vjgc",spin:"Modal_spin__2EPAt"}},18:function(e,t,a){e.exports={request:"requests_request__37tW-",rightContent:"requests_rightContent__Vy1Rn",header:"requests_header__1RBI8",button:"requests_button__1eL1l",content:"requests_content__2lhpF",actions:"requests_actions__2va8f",action:"requests_action__1QxTF",fields:"requests_fields__3boFG",field:"requests_field__3C4y1",line:"requests_line__2J1mi",lineField:"requests_lineField__18uKb"}},220:function(e,t,a){e.exports={field:"Field_field__2ATIm"}},35:function(e,t,a){e.exports={requestCard:"Request_requestCard__3U7u3",header:"Request_header__A03k4",headerContent:"Request_headerContent__14pne",button:"Request_button__2PEGb",left:"Request_left__sSXLv",right:"Request_right__3K8x0",tableContainer:"Request_tableContainer__1L-bR"}},359:function(e,t,a){e.exports=a(523)},361:function(e,t,a){"use strict";(function(e){var t=a(208),n=a.n(t);e.Promise=n.a}).call(this,a(30))},38:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return c});var n=a(31),r=a(156),s=Object(n.c)(r.b,{},e.__REDUX_DEVTOOLS_EXTENSION__&&e.__REDUX_DEVTOOLS_EXTENSION__()),c=function(e){return Object(r.a)({moduleName:e,store:s})};t.b=s}).call(this,a(30))},44:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",login:"Login_login__3Pyr8",form:"Login_form__2GZWt",header:"Login_header__2bYRv",content:"Login_content__G6z2_",field:"Login_field__2hEJx",actions:"Login_actions__28WoV",button:"Login_button__ZKSfD",spin:"Login_spin__1ioOY"}},516:function(e,t,a){var n={"./af":[226,0],"./af.js":[226,0],"./ar":[233,7],"./ar-dz":[227,1],"./ar-dz.js":[227,1],"./ar-kw":[228,2],"./ar-kw.js":[228,2],"./ar-ly":[229,3],"./ar-ly.js":[229,3],"./ar-ma":[230,4],"./ar-ma.js":[230,4],"./ar-sa":[231,5],"./ar-sa.js":[231,5],"./ar-tn":[232,6],"./ar-tn.js":[232,6],"./ar.js":[233,7],"./az":[234,8],"./az.js":[234,8],"./be":[235,9],"./be.js":[235,9],"./bg":[236,10],"./bg.js":[236,10],"./bm":[237,11],"./bm.js":[237,11],"./bn":[238,12],"./bn.js":[238,12],"./bo":[239,13],"./bo.js":[239,13],"./br":[240,14],"./br.js":[240,14],"./bs":[241,15],"./bs.js":[241,15],"./ca":[242,16],"./ca.js":[242,16],"./cs":[243,17],"./cs.js":[243,17],"./cv":[244,18],"./cv.js":[244,18],"./cy":[245,19],"./cy.js":[245,19],"./da":[246,20],"./da.js":[246,20],"./de":[249,23],"./de-at":[247,21],"./de-at.js":[247,21],"./de-ch":[248,22],"./de-ch.js":[248,22],"./de.js":[249,23],"./dv":[250,24],"./dv.js":[250,24],"./el":[251,25],"./el.js":[251,25],"./en-SG":[252,26],"./en-SG.js":[252,26],"./en-au":[253,27],"./en-au.js":[253,27],"./en-ca":[254,28],"./en-ca.js":[254,28],"./en-gb":[255,29],"./en-gb.js":[255,29],"./en-ie":[256,30],"./en-ie.js":[256,30],"./en-il":[257,31],"./en-il.js":[257,31],"./en-nz":[258,32],"./en-nz.js":[258,32],"./eo":[259,33],"./eo.js":[259,33],"./es":[262,36],"./es-do":[260,34],"./es-do.js":[260,34],"./es-us":[261,35],"./es-us.js":[261,35],"./es.js":[262,36],"./et":[263,37],"./et.js":[263,37],"./eu":[264,38],"./eu.js":[264,38],"./fa":[265,39],"./fa.js":[265,39],"./fi":[266,40],"./fi.js":[266,40],"./fo":[267,41],"./fo.js":[267,41],"./fr":[270,44],"./fr-ca":[268,42],"./fr-ca.js":[268,42],"./fr-ch":[269,43],"./fr-ch.js":[269,43],"./fr.js":[270,44],"./fy":[271,45],"./fy.js":[271,45],"./ga":[272,46],"./ga.js":[272,46],"./gd":[273,47],"./gd.js":[273,47],"./gl":[274,48],"./gl.js":[274,48],"./gom-latn":[275,49],"./gom-latn.js":[275,49],"./gu":[276,50],"./gu.js":[276,50],"./he":[277,51],"./he.js":[277,51],"./hi":[278,52],"./hi.js":[278,52],"./hr":[279,53],"./hr.js":[279,53],"./hu":[280,54],"./hu.js":[280,54],"./hy-am":[281,55],"./hy-am.js":[281,55],"./id":[282,56],"./id.js":[282,56],"./is":[283,57],"./is.js":[283,57],"./it":[285,59],"./it-ch":[284,58],"./it-ch.js":[284,58],"./it.js":[285,59],"./ja":[286,60],"./ja.js":[286,60],"./jv":[287,61],"./jv.js":[287,61],"./ka":[288,62],"./ka.js":[288,62],"./kk":[289,63],"./kk.js":[289,63],"./km":[290,64],"./km.js":[290,64],"./kn":[291,65],"./kn.js":[291,65],"./ko":[292,66],"./ko.js":[292,66],"./ku":[293,67],"./ku.js":[293,67],"./ky":[294,68],"./ky.js":[294,68],"./lb":[295,69],"./lb.js":[295,69],"./lo":[296,70],"./lo.js":[296,70],"./lt":[297,71],"./lt.js":[297,71],"./lv":[298,72],"./lv.js":[298,72],"./me":[299,73],"./me.js":[299,73],"./mi":[300,74],"./mi.js":[300,74],"./mk":[301,75],"./mk.js":[301,75],"./ml":[302,76],"./ml.js":[302,76],"./mn":[303,77],"./mn.js":[303,77],"./mr":[304,78],"./mr.js":[304,78],"./ms":[306,80],"./ms-my":[305,79],"./ms-my.js":[305,79],"./ms.js":[306,80],"./mt":[307,81],"./mt.js":[307,81],"./my":[308,82],"./my.js":[308,82],"./nb":[309,83],"./nb.js":[309,83],"./ne":[310,84],"./ne.js":[310,84],"./nl":[312,86],"./nl-be":[311,85],"./nl-be.js":[311,85],"./nl.js":[312,86],"./nn":[313,87],"./nn.js":[313,87],"./pa-in":[314,88],"./pa-in.js":[314,88],"./pl":[315,89],"./pl.js":[315,89],"./pt":[317,91],"./pt-br":[316,90],"./pt-br.js":[316,90],"./pt.js":[317,91],"./ro":[318,92],"./ro.js":[318,92],"./ru":[319,93],"./ru.js":[319,93],"./sd":[320,94],"./sd.js":[320,94],"./se":[321,95],"./se.js":[321,95],"./si":[322,96],"./si.js":[322,96],"./sk":[323,97],"./sk.js":[323,97],"./sl":[324,98],"./sl.js":[324,98],"./sq":[325,99],"./sq.js":[325,99],"./sr":[327,101],"./sr-cyrl":[326,100],"./sr-cyrl.js":[326,100],"./sr.js":[327,101],"./ss":[328,102],"./ss.js":[328,102],"./sv":[329,103],"./sv.js":[329,103],"./sw":[330,104],"./sw.js":[330,104],"./ta":[331,105],"./ta.js":[331,105],"./te":[332,106],"./te.js":[332,106],"./tet":[333,107],"./tet.js":[333,107],"./tg":[334,108],"./tg.js":[334,108],"./th":[335,109],"./th.js":[335,109],"./tl-ph":[336,110],"./tl-ph.js":[336,110],"./tlh":[337,111],"./tlh.js":[337,111],"./tr":[338,112],"./tr.js":[338,112],"./tzl":[339,113],"./tzl.js":[339,113],"./tzm":[341,115],"./tzm-latn":[340,114],"./tzm-latn.js":[340,114],"./tzm.js":[341,115],"./ug-cn":[342,116],"./ug-cn.js":[342,116],"./uk":[343,117],"./uk.js":[343,117],"./ur":[344,118],"./ur.js":[344,118],"./uz":[346,120],"./uz-latn":[345,119],"./uz-latn.js":[345,119],"./uz.js":[346,120],"./vi":[347,121],"./vi.js":[347,121],"./x-pseudo":[348,122],"./x-pseudo.js":[348,122],"./yo":[349,123],"./yo.js":[349,123],"./zh-cn":[350,124],"./zh-cn.js":[350,124],"./zh-hk":[351,125],"./zh-hk.js":[351,125],"./zh-tw":[352,126],"./zh-tw.js":[352,126]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a.t(r,7)})}r.keys=function(){return Object.keys(n)},r.id=516,e.exports=r},517:function(e,t,a){var n={"./en.json":[525,130],"./ro.json":[526,131]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a.t(r,3)})}r.keys=function(){return Object.keys(n)},r.id=517,e.exports=r},518:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148"}},523:function(e,t,a){"use strict";a.r(t);var n=a(48),r=(a(360),a(361),a(0)),s=a.n(r),c=a(11),l=a.n(c),o=a(22),i=a(81),u=a(222),m=a(583),d=a(585),f=a(581);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(38),v=a(10),h=a.n(v),E=a(21),_=a(16),b=a.n(_),j=a(76);a(498),a(500),a(524);j.initializeApp({apiKey:"AIzaSyBlz1clTHLvNYkX3DdLuS3NahX2-kJookQ",authDomain:"babet-mihai.firebaseapp.com",databaseURL:"https://babet-mihai.firebaseio.com",projectId:"babet-mihai",messagingSenderId:"897097348817",storageBucket:"babet-mihai.appspot.com"});j.auth.GoogleAuthProvider;var g=j.auth(),y=j.database(),q=(j.storage(),a(73)),k=a.n(q),N=Object(p.a)("alerts"),O=function(e){var t=k.a.generate();return N.set(t,{id:t,type:"ALERT_ERROR",message:e})},C=function(e){var t=k.a.generate();return N.set(t,{id:t,type:"ALERT_SUCCESS",message:e})},x=function(e){return N.delete(e)},w=N,L=Object(p.a)("user"),S=function(){var e=Object(E.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.signOut();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,O(e.t0.message);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(E.a)(h.a.mark(function e(t){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,g.signInWithEmailAndPassword(a,n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,O(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(E.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.prev=1,e.next=4,g.sendPasswordResetEmail(a);case 4:return e.next=6,C("Email sent");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,O(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),B=L,T=a(212),P=a.n(T),A=a(14),D=a.n(A),I=["ro","en"],F=Object(p.a)("intl"),U=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=navigator.language.substr(0,2),I.includes(t)||(t=I[0]),"en"===t){e.next=5;break}return e.next=5,a(516)("./".concat(t));case 5:return D.a.locale(t),e.next=8,a(517)("./".concat(t,".json"));case 8:return n=e.sent,r=n.default,e.next=12,F.set({locale:t,messages:r});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(e){return e&&(F.get("messages",{})[e]||function(e){return P()(e.split(".").join(" "))}(e))||""},M=a(23),K=(a(518),a(123)),V=a.n(K),X=a(59),W=a(42),G=a(578),Z=a(579),J=a(580),Q=a(20),Y=a.n(Q),$=a(551),ee=a(555),te=a(77),ae=a.n(te);var ne=function(e){var t=e.user,a=e.route,n=e.className,r=(t||{}).email,c=(a||{}).id;return s.a.createElement("div",{className:Y()(ae.a.header,n)},s.a.createElement("div",{className:ae.a.left},s.a.createElement("h1",{className:ae.a.title},H(c)),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",{className:ae.a.link},r)),s.a.createElement($.a,{className:ae.a.logout,"aria-label":"Logout",onClick:S},s.a.createElement(ee.a,null)))},re=a(586),se=a(31),ce=a(109),le=a.n(ce),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le.a;return function(t){return function(a){return e(a)?null:s.a.createElement(t,a)}}},ie=a(557),ue=Object(p.a)("requests"),me="pending",de="rejected",fe="completed",pe="archived",ve="canceled",he="approved",Ee="created",_e=function(){return ue.set("requestForm",!0)},be=function(){return ue.delete("requestForm")},je=function(){var e=Object(E.a)(h.a.mark(function e(t){var a,r,s,c,l,o,i,u,m,d;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.action,r=t.request,s=B.get(),c=s.id,l=s.email,o=s.assignedUserId,i=r.id,u=r.number,m=r.email,d={action:a,userId:c,userEmail:l,requestId:i,requestNo:u,requestEmail:m,created:D()().valueOf()},e.t0=a,e.next=e.t0===ve?7:e.t0===pe?14:19;break;case 7:return e.next=9,y.ref("/requests/".concat(i,"/history")).push(d);case 9:return e.next=11,y.ref("/history").push(Object(n.a)({},d,{userId:o}));case 11:return e.next=13,y.ref("/history").push(d);case 13:return e.abrupt("break",23);case 14:return e.next=16,y.ref("/archive/".concat(i,"/history")).push(d);case 16:return e.next=18,y.ref("/history").push(d);case 18:return e.abrupt("break",23);case 19:return e.next=21,y.ref("/requests/".concat(i,"/history")).push(d);case 21:return e.next=23,y.ref("/history").push(d);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=ue;var ye=Object(se.b)(Object(o.b)(function(){return{requests:ge.get(),user:B.get()}}),oe(function(e){var t=e.user;return!b()(t,"assignedEmail")}))(function(e){var t=e.requests,a=e.className,n=(t||{}).requestForm;return s.a.createElement(re.a,{title:H("new.request")},s.a.createElement($.a,{className:a,size:"medium",disabled:n,onClick:_e},s.a.createElement(ie.a,null)))}),qe=a(124),ke=a.n(qe);var Ne=function(e){var t=e.route,a=e.routes,n=e.className,r=t.path;return s.a.createElement("div",{className:Y()(ke.a.sidebar,n)},s.a.createElement(ye,{className:ke.a.fab}),a.map(function(e){var t=e.path,a=e.icon,n=e.id;return s.a.createElement(re.a,{key:n,title:H(n)},s.a.createElement($.a,{disabled:t===r,component:i.b,size:"medium",className:ke.a.fab,to:t},a))}))},Oe=a(84),Ce=a.n(Oe);var xe=Object(W.g)(function(e){var t=e.children,a=e.user,n=e.routes,r=e.location,c=n.find(function(e){return e.path===r.pathname})||{};return s.a.createElement("div",{className:Ce.a.main},s.a.createElement(ne,{user:a,route:c}),s.a.createElement("div",{className:Ce.a.content},s.a.createElement(Ne,{routes:n,route:c,className:Ce.a.sidebar}),s.a.createElement("div",{className:Ce.a.rightContent},t)))}),we=a(50),Le=a.n(we),Se=a(558),Re=a(559),ze=a(560),Be=a(562),Te=a(561),Pe=a(53),Ae=a.n(Pe),De=function(e){switch(e){case"ALERT_ERROR":return Ae.a.error;case"ALERT_SUCCESS":return Ae.a.success;default:return}},Ie=function(e){switch(e){case"ALERT_ERROR":return s.a.createElement(Se.a,null);case"ALERT_SUCCESS":return s.a.createElement(Re.a,null);default:return s.a.createElement(ze.a,null)}};function Fe(e){var t=e.alert,a=e.onClose,n=t.id,r=t.type,c=t.message;return s.a.useEffect(function(){setTimeout(function(){return a(n)},8e3)},[]),s.a.createElement(Te.a,{className:Y()(Ae.a.alert,De(r)),message:s.a.createElement("div",{className:Ae.a.message},Ie(r),s.a.createElement("p",null,c)),action:s.a.createElement($.a,{color:"inherit",className:Ae.a.close,onClick:function(){return a(n)}},s.a.createElement(Be.a,null))})}var Ue=Object(se.b)(Object(o.b)(function(){return{alerts:w.get()}}),oe(function(e){var t=e.alerts;return Le()(t)}))(function(e){var t=e.alerts,a=void 0===t?{}:t;return l.a.createPortal(s.a.createElement("div",{className:Ae.a.alerts},Object.values(a).map(function(e){return s.a.createElement(Fe,{key:e.id,alert:e,onClose:x})})),document.getElementById("root"))}),He=a(69),Me=a(122),Ke=a(564),Ve=a(582),Xe=a(587),We=a(567),Ge=a(565),Ze=a(566),Je=a(65),Qe=a(66),Ye=a(70),$e=a(67),et=a(71),tt=a(563),at=a(85),nt=a.n(at);var rt=function(e){var t=e.className,a=e.message,n=e.icon;return s.a.createElement("div",{className:Y()(nt.a.loader,t)},s.a.createElement("div",{className:nt.a.center},s.a.cloneElement(n,{className:Y()(nt.a.icon,n.props.className)}),s.a.createElement("h2",{className:nt.a.message},a)))},st=a(160),ct=a.n(st),lt=function(e){function t(){return Object(Je.a)(this,t),Object(Ye.a)(this,Object($e.a)(t).apply(this,arguments))}return Object(et.a)(t,e),Object(Qe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.loading,n=e.className;return s.a.createElement("div",{className:Y()(ct.a.page,n)},a?s.a.createElement(rt,{icon:s.a.createElement(tt.a,{className:ct.a.loading})}):t)}}]),t}(r.PureComponent),ot=a(44),it=a.n(ot),ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,a){var n=function(e){var t=e.id,a=e.value;switch(t){case"password":if(!a||a.length<6)return H("short.password");break;case"email":if(!a)return"Please enter an email";if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(a))return H("invalid.email");break;default:return}}({id:a,value:e[a]});return n&&(t[a]=n),t},{})};var mt=function(){var e=Object(r.useState)(!1),t=Object(He.a)(e,2),a=t[0],n=t[1];return s.a.createElement(lt,{className:it.a.login},s.a.createElement(Me.a,{initialValues:{email:"",password:""},validate:function(e){return ut(e)},onSubmit:function(e,t){var a=t.setSubmitting;return R(e).then(function(){return a(!1)})}},function(e){var t=e.values,r=e.errors,c=e.touched,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting;return s.a.createElement(Ke.a,{component:"form",className:it.a.form},s.a.createElement("div",{className:it.a.header},s.a.createElement("h2",null,H("login"))),s.a.createElement("div",{className:it.a.content},s.a.createElement(Ve.a,{type:"email",id:"email",autoFocus:!0,className:it.a.field,label:H("email"),error:Boolean(r.email&&c.email),helperText:c.email&&r.email,value:t.email,onChange:l,InputLabelProps:{shrink:!0}}),s.a.createElement(Ve.a,{id:"password",InputProps:{endAdornment:s.a.createElement(Xe.a,{position:"end"},s.a.createElement($.a,{onClick:function(){return n(function(e){return!e})}},a?s.a.createElement(Ge.a,null):s.a.createElement(Ze.a,null)))},type:a?"text":"password",className:it.a.field,label:H("password"),error:Boolean(r.password&&c.password),helperText:c.password&&r.password,value:t.password,onChange:l,InputLabelProps:{shrink:!0}}),s.a.createElement("div",{className:it.a.actions},s.a.createElement(We.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:it.a.button,onClick:o,disabled:i},H("login")),s.a.createElement(We.a,{className:it.a.button,size:"large",onClick:function(){return z(t)}},H("reset.password")))))}))},dt=a(225),ft=a(570),pt=a(571),vt=a(572),ht=a(573),Et=a(574),_t=a(568),bt=a(569),jt=a(18),gt=a.n(jt),yt=a(220),qt=a.n(yt);function kt(e){var t=e.label,a=e.value;return s.a.createElement("div",{className:qt.a.field},s.a.createElement("p",null,t),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",null,s.a.createElement("b",null,a)))}var Nt=a(86),Ot=a.n(Nt),Ct=function(e){function t(){return Object(Je.a)(this,t),Object(Ye.a)(this,Object($e.a)(t).apply(this,arguments))}return Object(et.a)(t,e),Object(Qe.a)(t,[{key:"getClassName",value:function(){switch(this.props.status){case fe:return Ot.a.completed;case de:return Ot.a.rejected;case me:return Ot.a.pending;default:return}}},{key:"render",value:function(){var e=this.props.className,t=Y()(Ot.a.cardStatus,this.getClassName(),e);return s.a.createElement("div",{className:t})}}]),t}(r.PureComponent),xt=a(35),wt=a.n(xt);function Lt(e){var t=e.request,a=e.actions,n=e.assigned,c=e.open,l=t.number,o=t.deadline,i=t.created,u=t.assignedEmail,m=t.email,d=t.status,f=t.notes,p=t.lines,v=void 0===p?{}:p,h=t.history,E=void 0===h?{}:h,_=D()(o).format("L"),b=D()(i).format("L"),j=s.a.useState(),g=Object(He.a)(j,2),y=g[0],q=g[1];return s.a.createElement(dt.a,{className:wt.a.requestCard},s.a.createElement(Ct,{status:d}),s.a.createElement("div",{className:wt.a.header},s.a.createElement("div",{className:wt.a.headerContent},s.a.createElement("div",{className:wt.a.left},s.a.createElement(kt,{label:"".concat(H("no"),":"),value:l}),s.a.createElement(kt,{label:"".concat(H("status"),":"),value:H(d)}),n?s.a.createElement(kt,{label:"".concat(H("created.by"),":"),value:m}):s.a.createElement(kt,{label:"".concat(H("assigned.to"),":"),value:u})),s.a.createElement("div",{className:wt.a.right},s.a.createElement(kt,{label:"".concat(H("deadline"),":"),value:_}),s.a.createElement(kt,{label:"".concat(H("created"),":"),value:b}))),!c&&s.a.createElement($.a,{size:"medium",className:wt.a.button,onClick:function(){return q(function(e){return!e})}},y?s.a.createElement(_t.a,null):s.a.createElement(bt.a,null))),(y||c)&&s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:gt.a.content},s.a.createElement("h3",null,H("products")),s.a.createElement("div",{className:wt.a.tableContainer},s.a.createElement(ft.a,{size:"small"},s.a.createElement(pt.a,null,s.a.createElement(vt.a,null,s.a.createElement(ht.a,null,H("product")),s.a.createElement(ht.a,{align:"right"},H("qty")))),s.a.createElement(Et.a,null,Object.values(v).map(function(e,t){var a=e.item,n=e.qty;return s.a.createElement(vt.a,{key:t},s.a.createElement(ht.a,null,a),s.a.createElement(ht.a,{align:"right"},n))})))),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("h3",null,H("notes")),s.a.createElement("div",{className:wt.a.tableContainer},s.a.createElement(ft.a,{size:"small"},s.a.createElement(Et.a,null,s.a.createElement(vt.a,null,s.a.createElement(ht.a,null,f.trim().split("\n").map(function(e,t){return s.a.createElement(r.Fragment,{key:t},e,s.a.createElement("br",null))})))))),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("h3",null,H("history")),s.a.createElement("div",{className:wt.a.tableContainer},s.a.createElement(ft.a,{size:"small",className:wt.a.table},s.a.createElement(pt.a,null,s.a.createElement(vt.a,null,s.a.createElement(ht.a,null,H("user")),s.a.createElement(ht.a,null,H("action")),s.a.createElement(ht.a,{align:"right"},H("date")))),s.a.createElement(Et.a,null,Object.values(E).sort(function(e,t){return D()(t.created).valueOf()-D()(e.created).valueOf()}).map(function(e,t){var a=e.userEmail,n=e.created,r=e.action;return s.a.createElement(vt.a,{key:t},s.a.createElement(ht.a,null,a),s.a.createElement(ht.a,null,H(r)),s.a.createElement(ht.a,{align:"right"},D()(n).format("L")))}))))),a&&s.a.createElement("div",{className:gt.a.actions},a)))}var St=a(161),Rt=a.n(St);var zt=Object(o.b)(function(){return{requests:ge.get(),user:B.get()}})(function(e){var t=e.requests,a=e.user,n=e.icon,c=(a||{}).id;s.a.useEffect(function(){var e=y.ref("/requests");return e.on("value",function(){return e.orderByChild("userId").equalTo(c).once("value").then(function(e){return e.val()}).then(function(e){return ge.set("userRequests",e||{})})}),function(){return e.off()}},[c]);var l=(t||{}).userRequests;return!l||Le()(l)?s.a.createElement(lt,{loading:!l,className:Rt.a.requests},s.a.createElement(rt,{icon:n,message:H("no.requests")})):s.a.createElement(lt,{className:Rt.a.requests},Object.values(l).sort(function(e,t){return D()(t.created).valueOf()-D()(e.created).valueOf()}).map(function(e){var t=e.id,a=e.status,n=[fe,de,ve].includes(a);return s.a.createElement(Lt,{key:t,request:e,actions:s.a.createElement(r.Fragment,null,!n&&s.a.createElement(We.a,{className:gt.a.action,variant:"contained",color:"secondary",onClick:Object(E.a)(h.a.mark(function a(){return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.ref("/requests/".concat(t,"/status")).set(ve);case 2:return a.next=4,je({request:e,action:ve});case 4:case"end":return a.stop()}},a)}))},H("cancel.request")),n&&s.a.createElement(We.a,{className:gt.a.action,variant:"contained",color:"secondary",onClick:Object(E.a)(h.a.mark(function a(){return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.ref("/archive/".concat(t)).set(e);case 2:return a.next=4,y.ref("/requests/".concat(t)).set(null);case 4:return a.next=6,je({request:e,action:pe});case 6:case"end":return a.stop()}},a)}))},H("archive")))})}))}),Bt=a(126),Tt=a.n(Bt);var Pt=Object(o.b)(function(){return{requests:ge.get(),user:B.get()}})(function(e){var t=e.user,a=e.requests,n=e.icon,c=t||{},l=c.email,o=c.assignedEmail;s.a.useEffect(function(){var e=y.ref("/requests");return e.on("value",function(){return e.orderByChild("assignedEmail").equalTo(l).once("value").then(function(e){return e.val()}).then(function(e){return ge.set("assignedRequests",Object.values(e||{}).filter(function(e){return[me].includes(e.status)}).reduce(function(e,t){return e[t.id]=t,e},{}))})}),function(){return e.off()}},[l]);var i=(a||{}).assignedRequests;return!i||Le()(i)?s.a.createElement(lt,{loading:!i,className:Tt.a.approvals},s.a.createElement(rt,{icon:n,message:H("no.pending.requests")})):s.a.createElement(lt,{className:Tt.a.approvals},Object.values(i).sort(function(e,t){return D()(e.deadline).valueOf()-D()(t.deadline).valueOf()}).map(function(e){var t=e.id;return s.a.createElement(Lt,{key:t,assigned:!0,request:e,actions:s.a.createElement(r.Fragment,null,s.a.createElement(We.a,{className:gt.a.action,variant:"contained",color:"secondary",onClick:Object(E.a)(h.a.mark(function a(){return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.ref("/requests/".concat(t,"/status")).set(de);case 2:return a.next=4,je({request:e,action:de});case 4:case"end":return a.stop()}},a)}))},H("reject")),s.a.createElement(We.a,{className:Y()(gt.a.action,Tt.a.approve),variant:"contained",color:"primary",onClick:Object(E.a)(h.a.mark(function a(){return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o){a.next=7;break}return a.next=3,y.ref("/requests/".concat(t,"/assignedEmail")).set(o);case 3:return a.next=5,je({request:e,action:he});case 5:a.next=11;break;case 7:return a.next=9,y.ref("/requests/".concat(t,"/status")).set(fe);case 9:return a.next=11,je({request:e,action:fe});case 11:case"end":return a.stop()}},a)}))},H("approve")))})}))}),At=a(575),Dt=a(62),It=a.n(Dt);var Ft=Object(o.b)(function(){return{requests:ge.get(),user:B.get()}})(function(e){var t=e.user,a=e.requests,n=e.icon,r=(t||{}).id,c=s.a.useState(),l=Object(He.a)(c,2),o=l[0],i=l[1];s.a.useEffect(function(){var e=y.ref("/history");return e.on("value",function(){return e.orderByChild("userId").equalTo(r).once("value").then(function(e){return e.val()}).then(function(e){return ge.set("historyList",e||{})})}),function(){return e.off()}},[r]);var u=(a||{}).historyList;return!u||Le()(u)?s.a.createElement(lt,{loading:!u,className:It.a.history},s.a.createElement(rt,{icon:n,message:H("no.history.available")})):s.a.createElement(lt,{className:It.a.history},s.a.createElement(dt.a,{className:It.a.historyTable},s.a.createElement(ft.a,{size:"small",className:It.a.table},s.a.createElement(pt.a,null,s.a.createElement(vt.a,null,s.a.createElement(ht.a,null,H("request.no")),s.a.createElement(ht.a,null,H("action")),s.a.createElement(ht.a,{align:"right"},H("action.date")))),s.a.createElement(Et.a,null,Object.values(u).sort(function(e,t){return D()(t.created).valueOf()-D()(e.created).valueOf()}).map(function(e,t){var a=e.requestId,n=e.created,r=e.action,c=e.requestNo,l=o===t;return s.a.createElement(vt.a,{key:t},s.a.createElement(ht.a,null,s.a.createElement("div",{className:It.a.requestCell},s.a.createElement($.a,{disabled:l,size:"small",onClick:Object(E.a)(h.a.mark(function e(){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(t),e.next=3,y.ref("/requests/".concat(a)).once("value").then(function(e){return e.val()});case 3:if(n=e.sent){e.next=8;break}return e.next=7,y.ref("/archive/".concat(a)).once("value").then(function(e){return e.val()});case 7:n=e.sent;case 8:return e.next=10,ge.set("modalRequest",n);case 10:i(void 0);case 11:case"end":return e.stop()}},e)}))},l?s.a.createElement(tt.a,{className:It.a.loading}):s.a.createElement(At.a,null)),c)),s.a.createElement(ht.a,null,H(r)),s.a.createElement(ht.a,{align:"right"},D()(n).format("L")))})))))}),Ut=a(121),Ht=a.n(Ut),Mt=a(82),Kt=a.n(Mt),Vt=a(221),Xt=a.n(Vt),Wt=a(576),Gt=a(577),Zt=a(162),Jt=a.n(Zt),Qt=function(e){function t(){var e,a;Object(Je.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ye.a)(this,(e=Object($e.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){var t=a.props,n=t.onKeyDown,r=t.onClose;switch(n&&n(e),e.key){case"Escape":r&&r()}},a.handleClick=function(e){var t=a.props.onClose;e.target.isSameNode(a.underlayRef)&&t&&t()},a}return Object(et.a)(t,e),Object(Qe.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown,!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className;return l.a.createPortal(s.a.createElement("div",{onClick:this.handleClick,className:Jt.a.underlay,ref:function(t){e.underlayRef=t}},s.a.createElement("div",{className:Y()(Jt.a.modal,n)},a)),document.getElementById("root"))}}]),t}(r.PureComponent),Yt=a(127),$t=a.n(Yt),ea={item:"",qty:""};var ta=Object(se.b)(Object(o.b)(function(){return{requests:ge.get(),user:B.get()}}),oe(function(e){var t=e.requests,a=e.user;return!b()(t,"requestForm")||!b()(a,"assignedEmail")}))(function(e){var t=e.user||{},a=t.id,n=t.email,r=t.assignedEmail;return s.a.createElement(Me.a,{validateOnChange:!1,initialValues:{date:"",notes:"",lines:Object(X.a)({},k.a.generate(),ea)},validate:function(e){var t={},a=e.date,n=e.lines;return a||Ht()(t,"date",H("mandatory.field")),Object.keys(n).forEach(function(e){var a=b()(n,e,{}),r=a.item,s=a.qty;r&&s||Ht()(t,"lines.".concat(e,".item"),H("empty.line"))}),t},onSubmit:function(){var e=Object(E.a)(h.a.mark(function e(t,s){var c,l,o,i,u,m,d;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.setSubmitting,l=t.date,o=t.notes,i=t.lines,e.next=4,y.ref("/requestSequence").once("value").then(function(e){return e.val()||0});case 4:return u=e.sent,e.next=7,y.ref("/requestSequence").set(u+1);case 7:return e.next=9,y.ref("/requests").push();case 9:return m=e.sent,d={id:m.key,number:u,userId:a,deadline:D()(l).valueOf(),created:D()().valueOf(),email:n,assignedEmail:r,notes:o,lines:i,status:me},e.next=13,m.set(d);case 13:return e.next=15,je({request:d,action:Ee});case 15:c(!1),be();case 17:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleChange,c=e.handleBlur,l=e.handleSubmit,o=e.isSubmitting,i=e.setValues,u=Object.keys(t.lines).length<=1;return s.a.createElement(Qt,{onClose:be},s.a.createElement(dt.a,{elevation:11,className:$t.a.requestForm},s.a.createElement(Ct,null),s.a.createElement("div",{className:gt.a.rightContent},s.a.createElement("div",{className:gt.a.content},Object.keys(t.lines).map(function(e,l){var o="lines.".concat(e,".item"),m="lines.".concat(e,".qty"),d=Boolean(b()(n,o)&&b()(n,m)),f=Boolean(b()(a,"lines.".concat(e)));return s.a.createElement("div",{key:e,className:gt.a.line},s.a.createElement(Ve.a,{id:o,autoFocus:!0,value:b()(t,o,""),error:d&&f,helperText:d&&b()(a,o),onChange:r,onBlur:c,label:"".concat(H("product")," ").concat(l+1),className:gt.a.lineField,InputLabelProps:{shrink:!0}}),s.a.createElement(Ve.a,{id:m,value:b()(t,m,""),error:d&&f,helperText:d&&b()(a,m),onChange:r,onBlur:c,label:H("qty"),type:"number",className:gt.a.lineField,InputLabelProps:{shrink:!0},InputProps:{endAdornment:!u&&s.a.createElement(Xe.a,{position:"end"},s.a.createElement($.a,{tabIndex:-1,onClick:function(){return i(Kt()("lines.".concat(e),t))}},s.a.createElement(Wt.a,null)))}}))}),s.a.createElement(re.a,{title:H("add.product")},s.a.createElement(Gt.a,{color:"primary",size:"small",className:$t.a.addButton,onClick:function(){return i(Xt()("lines.".concat(k.a.generate()),ea,t))}},s.a.createElement(bt.a,null))),s.a.createElement(Ve.a,{id:"date",label:H("deadline"),type:"date",value:t.date,error:Boolean(n.date&&a.date),helperText:n.date&&a.date,onChange:r,onBlur:c,className:Y()(gt.a.field,$t.a.date),InputLabelProps:{shrink:!0}}),s.a.createElement(Ve.a,{id:"notes",label:H("notes"),value:t.notes,error:Boolean(n.notes&&a.notes),helperText:n.notes&&a.notes,onChange:r,onBlur:c,multiline:!0,className:gt.a.field,InputLabelProps:{shrink:!0}})),s.a.createElement("div",{className:gt.a.actions},s.a.createElement(We.a,{tabIndex:-1,className:gt.a.action,onClick:be},H("cancel")),s.a.createElement(We.a,{className:gt.a.action,variant:"contained",color:"primary",disabled:o,onClick:l},H("submit"))))))})}),aa=function(){return ge.delete("modalRequest")};var na,ra=Object(se.b)(Object(o.b)(function(){return{requests:ge.get()}}),oe(function(e){var t=e.requests;return!b()(t,"modalRequest")}))(function(e){var t=(e.requests||{}).modalRequest;return s.a.createElement(Qt,{onClose:aa},s.a.createElement(Lt,{elevation:11,open:!0,assigned:!0,request:t,actions:s.a.createElement(We.a,{tabIndex:-1,color:"primary",variant:"contained",className:gt.a.action,onClick:aa},H("close"))}))}),sa=(na={},Object(X.a)(na,"user",[{id:"my.requests",path:"/",component:zt,icon:s.a.createElement(G.a,null)},{id:"my.history",path:"/history",component:Ft,icon:s.a.createElement(Z.a,null)}]),Object(X.a)(na,"manager",[{id:"my.approvals",path:"/",component:Pt,icon:s.a.createElement(J.a,null)},{id:"my.requests",path:"/requests",component:zt,icon:s.a.createElement(G.a,null)},{id:"my.history",path:"/history",component:Ft,icon:s.a.createElement(Z.a,null)}]),na);var ca=Object(o.b)(function(){return{user:B.get()}})(function(e){var t=e.user,a=t||{},c=a.role,l=a.assignedEmail,o=b()(sa,c,[]).filter(function(e){var t=e.component;return l||t!==zt});return s.a.createElement(r.Fragment,null,c?s.a.createElement(xe,{user:t,routes:o},s.a.createElement(W.d,null,o.map(function(e){var t=e.id,a=e.path,r=e.component,c=e.icon;return s.a.createElement(W.b,{key:t,exact:!0,path:a,render:function(e){return s.a.createElement(r,Object(n.a)({},e,{id:t,icon:c}))}})}),s.a.createElement(W.a,{to:"/"}))):s.a.createElement(mt,null),s.a.createElement(ra,null),s.a.createElement(ta,null),s.a.createElement(Ue,null))}),la=Object(M.b)(Object(n.a)({},Object(m.a)(),{insertionPoint:"jss-insertion-point"})),oa=Object(u.a)({palette:{primary:{main:V.a.primary},secondary:{main:V.a.secondary}},status:{danger:{main:V.a.secondary}}});document.head.prepend(document.createComment("jss-insertion-point")),Promise.all([U(),new Promise(function(e){g.onAuthStateChanged(function(){var t=Object(E.a)(h.a.mark(function t(a){var n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return n=b()(a,"uid"),t.next=4,y.ref("users/".concat(n)).once("value").then(function(e){return e.val()});case 4:return r=t.sent,t.next=7,L.update(r);case 7:t.next=10;break;case 9:L.delete();case 10:e();case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})]).then(function(){l.a.render(s.a.createElement(d.b,{jss:la},s.a.createElement(f.a,{theme:oa},s.a.createElement(o.a,{store:p.b},s.a.createElement(i.a,null,s.a.createElement(ca,null))))),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",alerts:"Alerts_alerts__2Ohge",alert:"Alerts_alert__3msWy",message:"Alerts_message__28iZk",success:"Alerts_success__3qHsm",error:"Alerts_error__3qCvR",spin:"Alerts_spin__13LMB"}},62:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",historyTable:"History_historyTable__29W8F",table:"History_table__3iVku",requestCell:"History_requestCell__1qpWl",loading:"History_loading__1Zt8d",spin:"History_spin__2w4Ty"}},77:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",header:"Header_header__1wKeE",left:"Header_left__17eb_",title:"Header_title__3Ld1Z",link:"Header_link__QHPdu",logout:"Header_logout__2Lbgf",spin:"Header_spin__8BCis"}},84:function(e,t,a){e.exports={main:"Main_main__3CiYV",content:"Main_content__1CjK5",rightContent:"Main_rightContent__3wwsI",sidebar:"Main_sidebar__36ls2"}},85:function(e,t,a){e.exports={loader:"Loader_loader__1WMVz",center:"Loader_center__22X4k",icon:"Loader_icon__34qtc",message:"Loader_message__1FqE0"}},86:function(e,t,a){e.exports={primary:"#3E3C3C",secondary:"#BD5148",cardStatus:"RequestStatus_cardStatus__2bUXE",pending:"RequestStatus_pending__1yLM9",rejected:"RequestStatus_rejected__yeKbX",completed:"RequestStatus_completed__3Oz1o",spin:"RequestStatus_spin__17cUq"}}},[[359,128,129]]]);